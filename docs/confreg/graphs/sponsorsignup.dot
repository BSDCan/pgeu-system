digraph sponsorsignup {
	subgraph legend {
		key[shape=box, label=<
		    <font color="blue">Actions by admin</font><br/>
		    <font color="green">Actions by sponsor</font><br/>
		>, labeljust="l"]
	}

	start[shape=circle label="Sign up"];
	type[shape=diamond label="Req contract?"];
	confirm[shape=box label="Confirm details"];
	invoice[shape=box label="Invoice generated"];
	contract[shape=box label="Wait for contract"];
	confirmed[shape=box label="Sponsorship confirmed"];

	start -> type [label="Sponsor sign up", color=green];
	type -> contract [label="Yes"];
	type -> confirm [label="No"];
	confirm -> invoice [label="Details confirmed", color=blue];
	contract -> confirm [label="Contract received", color=blue];
	contract -> confirmed [label="Early confirmation", color=blue];
	invoice -> confirmed [label="Invoice paid", color=green];
}